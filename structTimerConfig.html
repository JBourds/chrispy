<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Chrispy: TimerConfig Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Chrispy
   </div>
   <div id="projectbrief">High-performance multichannel ADC sampling and audio recording.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structTimerConfig.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle"><div class="title">TimerConfig Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Configuration for a hardware timer.  
 <a href="structTimerConfig.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Timer_8h_source.html">Timer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9c21737a84d09d3a1af396a030a80743" id="r_a9c21737a84d09d3a1af396a030a80743"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimerConfig.html#a9c21737a84d09d3a1af396a030a80743">TimerConfig</a> (<a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a> src_clock, <a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a> desired_clock, <a class="el" href="Timer_8h.html#a85f0e332f9bcc5703398ed9cca94bc56">Skew</a> preference)</td></tr>
<tr class="memdesc:a9c21737a84d09d3a1af396a030a80743"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for a timer config which initializes required variables for a configuration but does not perform any computation.  <br /></td></tr>
<tr class="separator:a9c21737a84d09d3a1af396a030a80743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae84b2fee41e69dfbe4363fb8e5cc9f38" id="r_ae84b2fee41e69dfbe4363fb8e5cc9f38"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Timer_8h.html#a07c3c22071d8398199f299d15d5afb07">TimerRc</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimerConfig.html#ae84b2fee41e69dfbe4363fb8e5cc9f38">compute</a> (size_t nprescalers, <a class="el" href="Timer_8h.html#a2c4352bbf79735b9f62034bf43251e8a">pre_t</a> *prescalers, <a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a> max_compare, double max_error)</td></tr>
<tr class="memdesc:ae84b2fee41e69dfbe4363fb8e5cc9f38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the first timer configuration satisfying the error constraint, or find the best possible timer configuration if given a <code>max_error</code> of 0.  <br /></td></tr>
<tr class="separator:ae84b2fee41e69dfbe4363fb8e5cc9f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a970695a5bf3fadc61261c14895d73662" id="r_a970695a5bf3fadc61261c14895d73662"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimerConfig.html#a970695a5bf3fadc61261c14895d73662">pprint</a> ()</td></tr>
<tr class="memdesc:a970695a5bf3fadc61261c14895d73662"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pretty print the timer configuration.  <br /></td></tr>
<tr class="separator:a970695a5bf3fadc61261c14895d73662"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a0dac9de57f02053bdabd880a1484539d" id="r_a0dac9de57f02053bdabd880a1484539d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Timer_8h.html#a2c4352bbf79735b9f62034bf43251e8a">pre_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimerConfig.html#a0dac9de57f02053bdabd880a1484539d">prescaler</a></td></tr>
<tr class="memdesc:a0dac9de57f02053bdabd880a1484539d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prescaler value to use with timer.  <br /></td></tr>
<tr class="separator:a0dac9de57f02053bdabd880a1484539d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a66e6c9f4de0c5017de973bb51acadc" id="r_a1a66e6c9f4de0c5017de973bb51acadc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimerConfig.html#a1a66e6c9f4de0c5017de973bb51acadc">compare</a></td></tr>
<tr class="memdesc:a1a66e6c9f4de0c5017de973bb51acadc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Comparison value to trigger timer at.  <br /></td></tr>
<tr class="separator:a1a66e6c9f4de0c5017de973bb51acadc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08e0964d042ce4129885a735c85e33e0" id="r_a08e0964d042ce4129885a735c85e33e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimerConfig.html#a08e0964d042ce4129885a735c85e33e0">src</a></td></tr>
<tr class="memdesc:a08e0964d042ce4129885a735c85e33e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input clock frequency (Hz).  <br /></td></tr>
<tr class="separator:a08e0964d042ce4129885a735c85e33e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac97cc4dbdd977b903d3e2f411094f0a" id="r_aac97cc4dbdd977b903d3e2f411094f0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimerConfig.html#aac97cc4dbdd977b903d3e2f411094f0a">desired</a></td></tr>
<tr class="memdesc:aac97cc4dbdd977b903d3e2f411094f0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Target clock frequency (Hz) given input.  <br /></td></tr>
<tr class="separator:aac97cc4dbdd977b903d3e2f411094f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd62f62584498a24b6af224200de8db9" id="r_afd62f62584498a24b6af224200de8db9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Timer_8h.html#a85f0e332f9bcc5703398ed9cca94bc56">Skew</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimerConfig.html#afd62f62584498a24b6af224200de8db9">skew</a></td></tr>
<tr class="memdesc:afd62f62584498a24b6af224200de8db9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preference for whether a lower/high clock rate.  <br /></td></tr>
<tr class="separator:afd62f62584498a24b6af224200de8db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9bac432fe4ae6e7baa95289a08b37bf" id="r_aa9bac432fe4ae6e7baa95289a08b37bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimerConfig.html#aa9bac432fe4ae6e7baa95289a08b37bf">actual</a></td></tr>
<tr class="memdesc:aa9bac432fe4ae6e7baa95289a08b37bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actual clock rate achieved.  <br /></td></tr>
<tr class="separator:aa9bac432fe4ae6e7baa95289a08b37bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5ea2249cf3e0e202b4391666e50339" id="r_a5a5ea2249cf3e0e202b4391666e50339"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structTimerConfig.html#a5a5ea2249cf3e0e202b4391666e50339">error</a></td></tr>
<tr class="memdesc:a5a5ea2249cf3e0e202b4391666e50339"><td class="mdescLeft">&#160;</td><td class="mdescRight">Percentage error from desired clock rate.  <br /></td></tr>
<tr class="separator:a5a5ea2249cf3e0e202b4391666e50339"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Configuration for a hardware timer. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9c21737a84d09d3a1af396a030a80743" name="a9c21737a84d09d3a1af396a030a80743"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c21737a84d09d3a1af396a030a80743">&#9670;&#160;</a></span>TimerConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TimerConfig::TimerConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a>&#160;</td>
          <td class="paramname"><em>src_clock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a>&#160;</td>
          <td class="paramname"><em>desired_clock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Timer_8h.html#a85f0e332f9bcc5703398ed9cca94bc56">Skew</a>&#160;</td>
          <td class="paramname"><em>preference</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for a timer config which initializes required variables for a configuration but does not perform any computation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src_clock</td><td>Input clock frequency (Hz). </td></tr>
    <tr><td class="paramname">desired_clock</td><td>Desired clock frequency (Hz). </td></tr>
    <tr><td class="paramname">preference</td><td>Preference for whether to err low or high when calculating parameters to get desired clock frequency. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae84b2fee41e69dfbe4363fb8e5cc9f38" name="ae84b2fee41e69dfbe4363fb8e5cc9f38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae84b2fee41e69dfbe4363fb8e5cc9f38">&#9670;&#160;</a></span>compute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="Timer_8h.html#a07c3c22071d8398199f299d15d5afb07">TimerRc</a> TimerConfig::compute </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nprescalers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Timer_8h.html#a2c4352bbf79735b9f62034bf43251e8a">pre_t</a> *&#160;</td>
          <td class="paramname"><em>prescalers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a>&#160;</td>
          <td class="paramname"><em>max_compare</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the first timer configuration satisfying the error constraint, or find the best possible timer configuration if given a <code>max_error</code> of 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nprescalers</td><td>Size of prescaler array values, </td></tr>
    <tr><td class="paramname">prescalers</td><td>Array of potential prescaler values. </td></tr>
    <tr><td class="paramname">max_compare</td><td>Upper bound for timer compare value. Typically <code>UINT8_MAX</code> for 8-bit timers and <code>UINT16_MAX</code> for 16-bit timers. </td></tr>
    <tr><td class="paramname">max_error</td><td>Upper error bound for computation. Causes the first configuration satisfying the bound to be used. When set to 0.0, this will examine every potential option and end with the best one.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(TimerRc): Return code with <code>Okay</code> or the error which occured. </dd></dl>

</div>
</div>
<a id="a970695a5bf3fadc61261c14895d73662" name="a970695a5bf3fadc61261c14895d73662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a970695a5bf3fadc61261c14895d73662">&#9670;&#160;</a></span>pprint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimerConfig::pprint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pretty print the timer configuration. </p>
<p>For debugging purposes only. </p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="aa9bac432fe4ae6e7baa95289a08b37bf" name="aa9bac432fe4ae6e7baa95289a08b37bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9bac432fe4ae6e7baa95289a08b37bf">&#9670;&#160;</a></span>actual</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a> TimerConfig::actual</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Actual clock rate achieved. </p>

</div>
</div>
<a id="a1a66e6c9f4de0c5017de973bb51acadc" name="a1a66e6c9f4de0c5017de973bb51acadc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a66e6c9f4de0c5017de973bb51acadc">&#9670;&#160;</a></span>compare</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a> TimerConfig::compare</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Comparison value to trigger timer at. </p>

</div>
</div>
<a id="aac97cc4dbdd977b903d3e2f411094f0a" name="aac97cc4dbdd977b903d3e2f411094f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac97cc4dbdd977b903d3e2f411094f0a">&#9670;&#160;</a></span>desired</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a> TimerConfig::desired</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Target clock frequency (Hz) given input. </p>

</div>
</div>
<a id="a5a5ea2249cf3e0e202b4391666e50339" name="a5a5ea2249cf3e0e202b4391666e50339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a5ea2249cf3e0e202b4391666e50339">&#9670;&#160;</a></span>error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double TimerConfig::error</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Percentage error from desired clock rate. </p>

</div>
</div>
<a id="a0dac9de57f02053bdabd880a1484539d" name="a0dac9de57f02053bdabd880a1484539d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dac9de57f02053bdabd880a1484539d">&#9670;&#160;</a></span>prescaler</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Timer_8h.html#a2c4352bbf79735b9f62034bf43251e8a">pre_t</a> TimerConfig::prescaler</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prescaler value to use with timer. </p>

</div>
</div>
<a id="afd62f62584498a24b6af224200de8db9" name="afd62f62584498a24b6af224200de8db9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd62f62584498a24b6af224200de8db9">&#9670;&#160;</a></span>skew</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Timer_8h.html#a85f0e332f9bcc5703398ed9cca94bc56">Skew</a> TimerConfig::skew</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Preference for whether a lower/high clock rate. </p>

</div>
</div>
<a id="a08e0964d042ce4129885a735c85e33e0" name="a08e0964d042ce4129885a735c85e33e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08e0964d042ce4129885a735c85e33e0">&#9670;&#160;</a></span>src</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Timer_8h.html#a72b610a8e0d499b5d5bf950d6d6b363f">clk_t</a> TimerConfig::src</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Input clock frequency (Hz). </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>/home/runner/work/chrispy/chrispy/src/<a class="el" href="Timer_8h_source.html">Timer.h</a></li>
<li>/home/runner/work/chrispy/chrispy/src/<a class="el" href="Timer_8cpp.html">Timer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structTimerConfig.html">TimerConfig</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
