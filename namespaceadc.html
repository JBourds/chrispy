<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Chrispy: adc Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Chrispy
   </div>
   <div id="projectbrief">High-performance multichannel ADC sampling and audio recording.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespaceadc.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">adc Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><b>Adc</b></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Singleton instance of the ADC. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><b>AdcFrame</b></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private/static data member for use by the ISR. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structadc_1_1Channel.html">Channel</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single ADC channel (pin + metadata).  <a href="structadc_1_1Channel.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><b>State</b></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a68a3ae517d073a34ace44121e6e776f3" id="r_a68a3ae517d073a34ace44121e6e776f3"><td class="memItemLeft" align="right" valign="top">enum struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#a68a3ae517d073a34ace44121e6e776f3">BitResolution</a> : uint8_t { <a class="el" href="namespaceadc.html#a68a3ae517d073a34ace44121e6e776f3abaca0ca6729684fd54206793ae4b5bd5">Eight</a> = 8
, <a class="el" href="namespaceadc.html#a68a3ae517d073a34ace44121e6e776f3aa185c3c138dca5ef46afc33288a67d1f">Ten</a> = 10
 }</td></tr>
<tr class="memdesc:a68a3ae517d073a34ace44121e6e776f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Supported bit resolutions for ADC sampling.  <a href="namespaceadc.html#a68a3ae517d073a34ace44121e6e776f3">More...</a><br /></td></tr>
<tr class="separator:a68a3ae517d073a34ace44121e6e776f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac20fb67f7d720803b9e88e5732bbadfb" id="r_ac20fb67f7d720803b9e88e5732bbadfb"><td class="memItemLeft" align="right" valign="top">enum struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#ac20fb67f7d720803b9e88e5732bbadfb">AutotriggerSource</a> : uint8_t { <br />
&#160;&#160;<a class="el" href="namespaceadc.html#ac20fb67f7d720803b9e88e5732bbadfba75564fb3d5bebd9283b77cc37a30463f">FreeRunning</a> = 0b000
, <a class="el" href="namespaceadc.html#ac20fb67f7d720803b9e88e5732bbadfba61ad2de68ee8e16b03b13e41779b129d">AnalogComparator</a> = 0b001
, <a class="el" href="namespaceadc.html#ac20fb67f7d720803b9e88e5732bbadfba71502ee352fd057669393568cf27ce08">ExternalIrq0</a> = 0b010
, <a class="el" href="namespaceadc.html#ac20fb67f7d720803b9e88e5732bbadfbaf21dbd76cd0a5f4e564f6df091db9625">TimCnt0CmpA</a> = 0b011
, <br />
&#160;&#160;<a class="el" href="namespaceadc.html#ac20fb67f7d720803b9e88e5732bbadfbad50ad60f8f158e590fd0b725b7788f66">TimCnt0Ovf</a> = 0b100
, <a class="el" href="namespaceadc.html#ac20fb67f7d720803b9e88e5732bbadfbab347fb331b4b76eda507002c02af7d75">TimCnt1CmpB</a> = 0b101
, <a class="el" href="namespaceadc.html#ac20fb67f7d720803b9e88e5732bbadfba49d866474d30d207f37d526b5147a4ee">TimCnt1Ovf</a> = 0b110
, <a class="el" href="namespaceadc.html#ac20fb67f7d720803b9e88e5732bbadfbaf38da921719ab5711527faabbd3481f7">TimCnt1Cap</a> = 0b111
<br />
 }</td></tr>
<tr class="memdesc:ac20fb67f7d720803b9e88e5732bbadfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Potential sources for ADC interrupts to be triggered by.  <a href="namespaceadc.html#ac20fb67f7d720803b9e88e5732bbadfb">More...</a><br /></td></tr>
<tr class="separator:ac20fb67f7d720803b9e88e5732bbadfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a03ac96f4632d6458bb52df938152ba9d" id="r_a03ac96f4632d6458bb52df938152ba9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#a03ac96f4632d6458bb52df938152ba9d">ISR</a> (ADC_vect)</td></tr>
<tr class="memdesc:a03ac96f4632d6458bb52df938152ba9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt service routine responsible for reading samples from the ADC.  <br /></td></tr>
<tr class="separator:a03ac96f4632d6458bb52df938152ba9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f8a7307ecfe3233a079d96598d40c56" id="r_a2f8a7307ecfe3233a079d96598d40c56"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#a2f8a7307ecfe3233a079d96598d40c56">drain_buffer</a> (uint8_t **buf, size_t &amp;sz, size_t &amp;ch_index)</td></tr>
<tr class="memdesc:a2f8a7307ecfe3233a079d96598d40c56"><td class="mdescLeft">&#160;</td><td class="mdescRight">NOT SAFE TO USE WHEN THE ADC IS ENABLED!  <br /></td></tr>
<tr class="separator:a2f8a7307ecfe3233a079d96598d40c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3820624ae8adaa92589f2b847755b30" id="r_ad3820624ae8adaa92589f2b847755b30"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#ad3820624ae8adaa92589f2b847755b30">swap_buffer</a> (uint8_t **buf, size_t &amp;sz, size_t &amp;ch_index)</td></tr>
<tr class="memdesc:ad3820624ae8adaa92589f2b847755b30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a buffer from the module belonging to a specific channel, writing the size and channel index to the reference arguments.  <br /></td></tr>
<tr class="separator:ad3820624ae8adaa92589f2b847755b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e0fe0282574d1733c87c25737966a5" id="r_ad1e0fe0282574d1733c87c25737966a5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#ad1e0fe0282574d1733c87c25737966a5">init</a> (uint8_t _nchannels, <a class="el" href="structadc_1_1Channel.html">Channel</a> *_channels, uint8_t *_buf, size_t _sz)</td></tr>
<tr class="memdesc:ad1e0fe0282574d1733c87c25737966a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize ADC module with these parameters for sampling.  <br /></td></tr>
<tr class="separator:ad1e0fe0282574d1733c87c25737966a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac10397c71fe50ea416050539bef5629b" id="r_ac10397c71fe50ea416050539bef5629b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#ac10397c71fe50ea416050539bef5629b">on</a> ()</td></tr>
<tr class="memdesc:ac10397c71fe50ea416050539bef5629b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate internal board's ADC.  <br /></td></tr>
<tr class="separator:ac10397c71fe50ea416050539bef5629b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6259bd97cb6019b6c6702ee7bcb962c" id="r_ad6259bd97cb6019b6c6702ee7bcb962c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#ad6259bd97cb6019b6c6702ee7bcb962c">off</a> ()</td></tr>
<tr class="memdesc:ad6259bd97cb6019b6c6702ee7bcb962c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn off ADC.  <br /></td></tr>
<tr class="separator:ad6259bd97cb6019b6c6702ee7bcb962c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a059331def25b50a2555a7f801911dc6a" id="r_a059331def25b50a2555a7f801911dc6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#a059331def25b50a2555a7f801911dc6a">sleep</a> ()</td></tr>
<tr class="memdesc:a059331def25b50a2555a7f801911dc6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn off ADC and enter sleep mode.  <br /></td></tr>
<tr class="separator:a059331def25b50a2555a7f801911dc6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4487b3f66a694f51d662dbed5590052" id="r_ae4487b3f66a694f51d662dbed5590052"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#ae4487b3f66a694f51d662dbed5590052">start</a> (<a class="el" href="namespaceadc.html#a68a3ae517d073a34ace44121e6e776f3">BitResolution</a> res, uint32_t sample_rate, size_t ch_window_sz=1, uint32_t warmup_ms=100)</td></tr>
<tr class="memdesc:ae4487b3f66a694f51d662dbed5590052"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start ADC sampling at a certain rate with a given bit resolution.  <br /></td></tr>
<tr class="separator:ae4487b3f66a694f51d662dbed5590052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6d33bd624703a61a80a5eca27ad690" id="r_a7b6d33bd624703a61a80a5eca27ad690"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#a7b6d33bd624703a61a80a5eca27ad690">collected</a> ()</td></tr>
<tr class="separator:a7b6d33bd624703a61a80a5eca27ad690"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db897388294ea3db76155f9d42b72f6" id="r_a9db897388294ea3db76155f9d42b72f6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#a9db897388294ea3db76155f9d42b72f6">stop</a> ()</td></tr>
<tr class="memdesc:a9db897388294ea3db76155f9d42b72f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops ADC sampling and performs cleanup on registers.  <br /></td></tr>
<tr class="separator:a9db897388294ea3db76155f9d42b72f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad119695636fb45707432d3dfe9d6eff6" id="r_ad119695636fb45707432d3dfe9d6eff6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#ad119695636fb45707432d3dfe9d6eff6">bytes_per_sample</a> (<a class="el" href="namespaceadc.html#a68a3ae517d073a34ace44121e6e776f3">BitResolution</a> res)</td></tr>
<tr class="separator:ad119695636fb45707432d3dfe9d6eff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a383e1809238d95397982454bbc31b206" id="r_a383e1809238d95397982454bbc31b206"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceadc.html#a383e1809238d95397982454bbc31b206">MAX_CHANNEL_COUNT</a> = 16</td></tr>
<tr class="memdesc:a383e1809238d95397982454bbc31b206"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of channels supported by the ADC (0 - 15).  <br /></td></tr>
<tr class="separator:a383e1809238d95397982454bbc31b206"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ac20fb67f7d720803b9e88e5732bbadfb" name="ac20fb67f7d720803b9e88e5732bbadfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac20fb67f7d720803b9e88e5732bbadfb">&#9670;&#160;</a></span>AutotriggerSource</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum struct <a class="el" href="namespaceadc.html#ac20fb67f7d720803b9e88e5732bbadfb">adc::AutotriggerSource</a> : uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Potential sources for ADC interrupts to be triggered by. </p>
<p>Maps to the bit patterns used to set source in <code>ADCSRB</code> register. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ac20fb67f7d720803b9e88e5732bbadfba75564fb3d5bebd9283b77cc37a30463f" name="ac20fb67f7d720803b9e88e5732bbadfba75564fb3d5bebd9283b77cc37a30463f"></a>FreeRunning&#160;</td><td class="fielddoc"><p>0b000 </p>
</td></tr>
<tr><td class="fieldname"><a id="ac20fb67f7d720803b9e88e5732bbadfba61ad2de68ee8e16b03b13e41779b129d" name="ac20fb67f7d720803b9e88e5732bbadfba61ad2de68ee8e16b03b13e41779b129d"></a>AnalogComparator&#160;</td><td class="fielddoc"><p>0b001 </p>
</td></tr>
<tr><td class="fieldname"><a id="ac20fb67f7d720803b9e88e5732bbadfba71502ee352fd057669393568cf27ce08" name="ac20fb67f7d720803b9e88e5732bbadfba71502ee352fd057669393568cf27ce08"></a>ExternalIrq0&#160;</td><td class="fielddoc"><p>0b010 </p>
</td></tr>
<tr><td class="fieldname"><a id="ac20fb67f7d720803b9e88e5732bbadfbaf21dbd76cd0a5f4e564f6df091db9625" name="ac20fb67f7d720803b9e88e5732bbadfbaf21dbd76cd0a5f4e564f6df091db9625"></a>TimCnt0CmpA&#160;</td><td class="fielddoc"><p>0b011 </p>
</td></tr>
<tr><td class="fieldname"><a id="ac20fb67f7d720803b9e88e5732bbadfbad50ad60f8f158e590fd0b725b7788f66" name="ac20fb67f7d720803b9e88e5732bbadfbad50ad60f8f158e590fd0b725b7788f66"></a>TimCnt0Ovf&#160;</td><td class="fielddoc"><p>0b100 </p>
</td></tr>
<tr><td class="fieldname"><a id="ac20fb67f7d720803b9e88e5732bbadfbab347fb331b4b76eda507002c02af7d75" name="ac20fb67f7d720803b9e88e5732bbadfbab347fb331b4b76eda507002c02af7d75"></a>TimCnt1CmpB&#160;</td><td class="fielddoc"><p>0b101 </p>
</td></tr>
<tr><td class="fieldname"><a id="ac20fb67f7d720803b9e88e5732bbadfba49d866474d30d207f37d526b5147a4ee" name="ac20fb67f7d720803b9e88e5732bbadfba49d866474d30d207f37d526b5147a4ee"></a>TimCnt1Ovf&#160;</td><td class="fielddoc"><p>0b110 </p>
</td></tr>
<tr><td class="fieldname"><a id="ac20fb67f7d720803b9e88e5732bbadfbaf38da921719ab5711527faabbd3481f7" name="ac20fb67f7d720803b9e88e5732bbadfbaf38da921719ab5711527faabbd3481f7"></a>TimCnt1Cap&#160;</td><td class="fielddoc"><p>0b111 </p>
</td></tr>
</table>

</div>
</div>
<a id="a68a3ae517d073a34ace44121e6e776f3" name="a68a3ae517d073a34ace44121e6e776f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a3ae517d073a34ace44121e6e776f3">&#9670;&#160;</a></span>BitResolution</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum struct <a class="el" href="namespaceadc.html#a68a3ae517d073a34ace44121e6e776f3">adc::BitResolution</a> : uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Supported bit resolutions for ADC sampling. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a68a3ae517d073a34ace44121e6e776f3abaca0ca6729684fd54206793ae4b5bd5" name="a68a3ae517d073a34ace44121e6e776f3abaca0ca6729684fd54206793ae4b5bd5"></a>Eight&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a68a3ae517d073a34ace44121e6e776f3aa185c3c138dca5ef46afc33288a67d1f" name="a68a3ae517d073a34ace44121e6e776f3aa185c3c138dca5ef46afc33288a67d1f"></a>Ten&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ad119695636fb45707432d3dfe9d6eff6" name="ad119695636fb45707432d3dfe9d6eff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad119695636fb45707432d3dfe9d6eff6">&#9670;&#160;</a></span>bytes_per_sample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t adc::bytes_per_sample </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceadc.html#a68a3ae517d073a34ace44121e6e776f3">BitResolution</a>&#160;</td>
          <td class="paramname"><em>res</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7b6d33bd624703a61a80a5eca27ad690" name="a7b6d33bd624703a61a80a5eca27ad690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b6d33bd624703a61a80a5eca27ad690">&#9670;&#160;</a></span>collected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t adc::collected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>(uint32_t): Number of samples collected in the current/previous round of sampling. </dd></dl>

</div>
</div>
<a id="a2f8a7307ecfe3233a079d96598d40c56" name="a2f8a7307ecfe3233a079d96598d40c56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f8a7307ecfe3233a079d96598d40c56">&#9670;&#160;</a></span>drain_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t adc::drain_buffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>ch_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NOT SAFE TO USE WHEN THE ADC IS ENABLED! </p>
<p>Identical API as <code>swap_buffer</code> but this will also give the active buffer. Used to drain any remaining samples from the buffer. </p>

</div>
</div>
<a id="ad1e0fe0282574d1733c87c25737966a5" name="ad1e0fe0282574d1733c87c25737966a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1e0fe0282574d1733c87c25737966a5">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool adc::init </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>nchannels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structadc_1_1Channel.html">Channel</a> *&#160;</td>
          <td class="paramname"><em>channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize ADC module with these parameters for sampling. </p>

</div>
</div>
<a id="a03ac96f4632d6458bb52df938152ba9d" name="a03ac96f4632d6458bb52df938152ba9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ac96f4632d6458bb52df938152ba9d">&#9670;&#160;</a></span>ISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">adc::ISR </td>
          <td>(</td>
          <td class="paramtype">ADC_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt service routine responsible for reading samples from the ADC. </p>

</div>
</div>
<a id="ad6259bd97cb6019b6c6702ee7bcb962c" name="ad6259bd97cb6019b6c6702ee7bcb962c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6259bd97cb6019b6c6702ee7bcb962c">&#9670;&#160;</a></span>off()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adc::off </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn off ADC. </p>

</div>
</div>
<a id="ac10397c71fe50ea416050539bef5629b" name="ac10397c71fe50ea416050539bef5629b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac10397c71fe50ea416050539bef5629b">&#9670;&#160;</a></span>on()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adc::on </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate internal board's ADC. </p>
<p>Wake up from sleep mode. </p>

</div>
</div>
<a id="a059331def25b50a2555a7f801911dc6a" name="a059331def25b50a2555a7f801911dc6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a059331def25b50a2555a7f801911dc6a">&#9670;&#160;</a></span>sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adc::sleep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn off ADC and enter sleep mode. </p>

</div>
</div>
<a id="ae4487b3f66a694f51d662dbed5590052" name="ae4487b3f66a694f51d662dbed5590052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4487b3f66a694f51d662dbed5590052">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t adc::start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceadc.html#a68a3ae517d073a34ace44121e6e776f3">BitResolution</a>&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sample_rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>ch_window_sz</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>warmup_ms</em> = <code>100</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start ADC sampling at a certain rate with a given bit resolution. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">res</td><td>Bit resolution to use. </td></tr>
    <tr><td class="paramname">sample_rate</td><td>Sample rate in Hz to try and record at, </td></tr>
    <tr><td class="paramname">ch_window_sz</td><td>Size of each channel's window. Only checked when there are multiple channels being recorded from. Defaults to 8. </td></tr>
    <tr><td class="paramname">warmup_ms</td><td>Milliseconds to delay after starting ADC before ingesting samples. A small warmup helps prevent poor signal from channel switching noise.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(int8_t): Return code. 0 if all is good, negative otherwise. </dd></dl>

</div>
</div>
<a id="a9db897388294ea3db76155f9d42b72f6" name="a9db897388294ea3db76155f9d42b72f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9db897388294ea3db76155f9d42b72f6">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t adc::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops ADC sampling and performs cleanup on registers. </p>
<dl class="section return"><dt>Returns</dt><dd>(uint32_t): Number of samples collected. </dd></dl>

</div>
</div>
<a id="ad3820624ae8adaa92589f2b847755b30" name="ad3820624ae8adaa92589f2b847755b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3820624ae8adaa92589f2b847755b30">&#9670;&#160;</a></span>swap_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t adc::swap_buffer </td>
          <td>(</td>
          <td class="paramtype">uint8_t **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>ch_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a buffer from the module belonging to a specific channel, writing the size and channel index to the reference arguments. </p>
<p>Intent: Call this in a busy loop starting with a nullptr and write data out to the appropriate channel as it comes in.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Pointer to buffer being swapped. If it is a null-pointer, will try to swap it with a currently full buffer without marking it as usable by the ISR. If it is one of the double buffers, will free the buffer for use again and try to exchange it for the other buffer if possible. </td></tr>
    <tr><td class="paramname">sz</td><td>Out-parameter for the number of bytes in the buffer. </td></tr>
    <tr><td class="paramname">ch_index</td><td>Out-paramter for the channel index this data is from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(int8_t): 0 if a new buffer is returned. Nonzero otherwise. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a383e1809238d95397982454bbc31b206" name="a383e1809238d95397982454bbc31b206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a383e1809238d95397982454bbc31b206">&#9670;&#160;</a></span>MAX_CHANNEL_COUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t adc::MAX_CHANNEL_COUNT = 16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of channels supported by the ADC (0 - 15). </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceadc.html">adc</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
